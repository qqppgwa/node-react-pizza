(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[0],{101:function(e,t,n){e.exports={cover:"calcuBox_cover__2Kre5",box:"calcuBox_box__2dkHr",add:"calcuBox_add__30O7w"}},131:function(e,t,n){e.exports={board:"Menu_board__19mwG",menuCon:"Menu_menuCon__3z9k-"}},132:function(e,t,n){e.exports={orderList:"Order_orderList__1NIpv"}},205:function(e,t,n){e.exports={cell:"MenuCell_cell__2m1-9"}},206:function(e,t,n){e.exports={list:"OrderingList_list__3be96"}},210:function(e,t,n){e.exports=n(442)},418:function(e,t,n){},440:function(e,t,n){},442:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(99),o=n.n(i),l=(n(215),n(225),n(418),n(49)),c=n(50),s=n(52),u=n(51),p=n(53),d=n(205),m=n.n(d),h=function(e){var t=e.data;return r.a.createElement("div",{className:m.a.cell,onClick:function(){console.log(e),e.addItem(e.index)}},r.a.createElement("p",null,t.id),r.a.createElement("p",null,t.flavour))},g=n(206),v=n.n(g),f=n(58),E=n.n(f),z=n(37),b=Object(z.b)((function(e){return{ordering:e.ordering,isInit:e.isInit,pizza:e.pizza}}),(function(e){return{orderIng:function(t){e({type:"Ordering",payload:{list:t}})}}}))((function(e){console.log(e);for(var t=[],n=0,a=0;a<e.ordering.length;a++){var i=e.ordering[a];console.log(i);var o=r.a.createElement("ul",{key:a},r.a.createElement("li",null,"flavour : ",i.pizza),r.a.createElement("li",null,"size : ",i.size,'"'),r.a.createElement("li",null,"cust : ",i.crust),r.a.createElement("li",null,"additional Topping :",r.a.createElement("br",null),i.topping),r.a.createElement("li",null,"Subtotal : ",i.total));t.push(o),n+=i.total}return r.a.createElement("aside",{className:v.a.list},t,r.a.createElement("p",null,"Total : ",n),r.a.createElement("button",{onClick:function(){(function(e){return E()({method:"post",url:"/saveOrder",data:e,"Content-Type":"application/json"})})(e.ordering).then((function(t){e.orderIng([])})),console.log(e.ordering)}},"Confirm"))})),O=n(131),y=n.n(O),_=n(101),C=n.n(_),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).checkHandle=function(e){var t=window.document.getElementById("check"+e),a=JSON.parse(t.value),r=n.state.toppingValue;t.checked?(r.push(a),setTimeout(n.priceCal(),500)):r=r.filter((function(e){return e.topping!==a.topping})),n.setState({toppingValue:r},(function(){n.priceCal()}))},n.priceCal=function(){for(var e=n.state.sizeValue,t=n.props.data,a=n.state.crustValue,r=0,i=0;i<n.state.toppingValue.length;i++)r+=n.state.toppingValue[i].price;n.setState({total:t.basicPrice*e.priceRatio+a.price+r})},n.addOrder=function(){for(var e=[],t=0;t<n.state.toppingValue.length;t++)e.push(n.state.toppingValue[t].topping);var a={pizza:n.state.pizza,crust:n.state.crustValue.type,size:n.state.sizeValue.size,topping:e,total:n.state.total};n.props.addOrder(a),n.props.close()},n.state={pizza:e.data,crustValue:e.crust[0],sizeValue:e.size[0],toppingValue:[],total:e.data.basicPrice},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.state);for(var t=[],n=[],a=[],i=this.props.data,o=0;o<this.props.crust.length;o++){var l=r.a.createElement("option",{value:JSON.stringify(this.props.crust[o]),key:o},this.props.crust[o].type+" +$".concat(this.props.crust[o].price));t.push(l)}for(var c=0;c<this.props.size.length;c++){var s=r.a.createElement("option",{value:JSON.stringify(this.props.size[c]),key:c},this.props.size[c].size);n.push(s)}for(var u=function(t){var n=r.a.createElement("p",{key:t},r.a.createElement("input",{type:"checkbox",id:"check"+t,onChange:function(){e.checkHandle(t)},value:JSON.stringify(e.props.topping[t])}),"".concat(e.props.topping[t].topping," +$").concat(e.props.topping[t].price));a.push(n)},p=0;p<this.props.topping.length;p++)u(p);return r.a.createElement("div",{className:C.a.cover,onClick:function(t){e.close(t)}},r.a.createElement("div",{className:C.a.box,onClick:function(e){e.stopPropagation()}},r.a.createElement("h3",null,r.a.createElement("p",null,i.id),i.flavour),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"seleSize"},"Size"),r.a.createElement("select",{id:"seleSize",defaultValue:this.state.sizeValue,onChange:this.sizeChange.bind(this)},n)),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"seleCrust"},"Crust"),r.a.createElement("select",{id:"seleCrust",defaultValue:this.state.crustValue,onChange:this.crustChange.bind(this)},t)),r.a.createElement("div",{className:C.a.add},a),r.a.createElement("p",null,"total:",this.state.total),r.a.createElement("button",{onClick:this.addOrder},"Add to Order")))}},{key:"crustChange",value:function(){var e=this;this.setState({crustValue:JSON.parse(window.document.getElementById("seleCrust").value)},(function(){e.priceCal()}))}},{key:"sizeChange",value:function(){var e=this;this.setState({sizeValue:JSON.parse(window.document.getElementById("seleSize").value)},(function(){e.priceCal()}))}},{key:"close",value:function(e){e.stopPropagation(),this.props.close()}}]),t}(r.a.Component),k=Object(z.b)((function(e){var t=e.ordering,n=e.size;e.pizza;return{ordering:t,crust:e.crust,size:n,topping:e.topping}}),null)(j),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).addOrder=function(e){console.log(e);var t=e;t.pizza=e.pizza.flavour,t.topping=e.topping.length>0?e.topping.join(","):"none";var a=n.props.ordering;a.push(t),n.props.orderIng(a)},n.state={showPop:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[],t=this.state.showPop,n=null!==t?r.a.createElement(k,{data:this.props.pizza[t],close:this.close.bind(this),addOrder:this.addOrder}):null;console.log(this.props.ordering.length);var a=this.props.ordering.length>0?r.a.createElement(b,{l:this.props.ordering.length}):null;if(this.props.isInit)for(var i=0;i<this.props.pizza.length;i++){var o=r.a.createElement(h,{addItem:this.addItem.bind(this),data:this.props.pizza[i],key:i,index:i});e.push(o)}else e=r.a.createElement("p",null,"loading");return r.a.createElement("div",{className:y.a.menuCon},r.a.createElement("div",{className:y.a.board},e),n,a)}},{key:"addItem",value:function(e){this.setState({showPop:e})}},{key:"close",value:function(){this.setState({showPop:null})}}]),t}(r.a.Component),I=Object(z.b)((function(e){return{ordering:e.ordering,isInit:e.isInit,pizza:e.pizza}}),(function(e){return{orderIng:function(t){e({type:"Ordering",payload:{list:t}})}}}))(w),x=n(132),N=n.n(x),S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={list:[],item:""},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.list;console.log(e);for(var t=[],n=0;n<e.length;n++){var a=r.a.createElement("li",{className:N.a.item,key:n},r.a.createElement("div",null,e[n].flavour),r.a.createElement("div",null,e[n].size+'"'),r.a.createElement("div",null,e[n].crust),r.a.createElement("div",null,e[n].total),r.a.createElement("div",null,e[n].extraTop));t.push(a)}return r.a.createElement("div",null,r.a.createElement("h1",null,"Order List"),r.a.createElement("ul",{className:N.a.orderList},r.a.createElement("li",null,r.a.createElement("div",null,"flavour"),r.a.createElement("div",null,"size"),r.a.createElement("div",null,"crust"),r.a.createElement("div",null,"total"),r.a.createElement("div",null,"Additional Topping")),t))}},{key:"componentDidMount",value:function(){var e,t=this;E()({method:"get",url:"/order/getOrderList",data:e,"Content-Type":"application/json"}).then((function(e){console.log(e.data.data),t.setState({list:e.data.data})}))}}]),t}(r.a.Component),V=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Under construction.."))},T=(n(440),n(80)),M=n(54),B=n(65),J=n.n(B),L=n(135),P=n(64),D=n(208),U={ordering:[],isInit:!1},X=function(){return function(e){var t,n,a,r;return J.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,J.a.awrap(E()({method:"get",url:"/getMenu","Content-Type":"application/json"}));case 3:return t=i.sent,i.next=6,J.a.awrap(E()({method:"get",url:"/getCrust","Content-Type":"application/json"}));case 6:return n=i.sent,i.next=9,J.a.awrap(E()({method:"get",url:"/getSize","Content-Type":"application/json"}));case 9:return a=i.sent,i.next=12,J.a.awrap(E()({method:"get",url:"/getTopping","Content-Type":"application/json"}));case 12:r=i.sent,e({type:"MENU_INIT",payload:{pizza:t.data.data,crust:n.data.data,size:a.data.data,topping:r.data.data,isInit:!0}}),i.next=18;break;case 16:i.prev=16,i.t0=i.catch(0);case 18:case"end":return i.stop()}}),null,null,[[0,16]])}},H=Object(P.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"Ordering":return Object(L.a)({},e,{ordering:a.list});case"MENU_INIT":return Object(L.a)({},e,{isInit:a.isInit,pizza:a.pizza,crust:a.crust,size:a.size,topping:a.topping});default:return e}}),Object(P.c)(Object(P.a)(D.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),R=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement("nav",null,r.a.createElement(T.b,{exact:!0,to:"/menu"},"Menu"),r.a.createElement(T.b,{exact:!0,to:"/order"},"Order"),r.a.createElement(T.b,{exact:!0,to:"/editMenu"},"Edit")),r.a.createElement("main",null,r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/menu",component:I}),r.a.createElement(M.a,{path:"/order/",component:S}),r.a.createElement(M.a,{path:"/editMenu/",component:V}))))}},{key:"componentDidMount",value:function(){this.props.menuInit()}}]),t}(r.a.Component),$=Object(z.b)((function(e){return{ordering:e.ordering,menu:e.menu}}),{menuInit:X})(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z.a,{store:H},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[210,1,2]]]);
//# sourceMappingURL=main.42fd63c6.chunk.js.map